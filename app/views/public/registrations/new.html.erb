<div class='container mt-5'>

  <!--ページタイトル-->
  <div class='row justify-content-center mb-5'>
    <h2><strong>Signup</strong></h2>
  </div>

  <!--新規登録入力フォーム-->
  <div class='row justify-content-center mb-5'>
    <div class='col-md-8 text-center'>
      <%= render 'public/shared/error_messages', resource: @user %>
      <%= form_with model: @user, url: user_registration_path do |f| %>
        <div class='row form-field mb-3 was-validated'>
          <div class='col'><label>ニックネーム</label></div>
          <div class='col'><%= f.text_field :nickname, autofocus: true, autocomplete: "nickname", class: 'form-control', placeholder: "nickname", required: true %></div>
        </div>

        <div class='row form-field mb-3 was-validated'>
          <div class='col'><label>メールアドレス</label></div>
          <div class='col'><%= f.email_field :email, autocomplete: "email", class: 'form-control', placeholder: "xxx@xxx.xxx", required: true %></div>
        </div>

        <div class='row form-field mb-3 was-validated'>
          <div class='col'><label>パスワード（６文字以上)</label></div>
          <div class='col'> <%= f.password_field :password, autocomplete: "new-password", class: 'form-control', placeholder: "xxxxxxxx", required: true %></div>
        </div>

        <div class='row form-field mb-5 was-validated'>
          <div class='col'><label>パスワード（確認用）</label></div>
          <div class='col'><%= f.password_field :password_confirmation, autocomplete: "new-password", class: 'form-control', placeholder: "xxxxxxxx", required: true%></div>
        </div>

        <div class='row form-field justify-content-center mb-3'>
          <div class='col mb-3'>
            <label>プロフィール画像（任意）</label><br>
            <%= f.file_field :profile_image, id: 'input-file', autocomplete: "profile_image" %>
          </div>
        </div>

        <div class='row justify-content-center mb-5'>
          <!--画像プレビュー表示-->
          <img id='preview', class='preview_image'>
          <script>
            $('#input-file').on('change', function (e) {
              let reader = new FileReader();
              reader.onload = function (e) {
                $('#preview').attr('src', e.target.result);
              }
              reader.readAsDataURL(e.target.files[0]);
            });
          </script>
        </div>

        <div class='actions text-center mb-5 col-md-4 mx-auto'>
          <%= f.submit "登録", class: 'form-control btn btn-info' %>
        </div>
      <% end %>
    </div>
  </div>

  <div class='row justify-content-center mb-5'>
    <h5><%= link_to "Login", new_session_path(resource_name), class: 'link' %> 👋</h5>
  </div>

</div>


